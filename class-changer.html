<!DOCTYPE html>
<html>
    <script>
        let classProgress = 0
        let progress = 0
        let buttonName = ''
        let buttonLink = ''
        function defineDefault(item){
            document.documentElement.style.setProperty(`--${item}`, localStorage.getItem(item))
        }
        function nextFunc(){
            console.log(progress)
            buttonLink = document.getElementById('input1').value
            console.log(buttonLink)
            document.getElementById('next').style.display = 'none'
            document.getElementById('input1').style.display = 'none'
            document.getElementById('creator').style.display = 'block'
            document.getElementById('input2').style.display = 'block'
        }
    </script>
<style>
    h1{
        color: var(--bccPrimaryHeader)
    }
    .inputClass{
        background-color: var(--bccButtonPrimary); /* Green background */
         color: var(--bccButtonSecondary); /* White text */
          padding: 10px 20px; /* Spacing inside the button */
         border: 5x; /* No border */
         border-radius: 5px; /* Rounded corners */
          cursor: pointer; /* Changes cursor to a hand on hover */
          font-size: 16px; /* Text size */
          font-family: 'kamiiFonts'; /* Font style */
          transition: background-color 0.3s ease; /* Smooth transition on hover */
          width: 450px;
    }
    .inputClass2{
        background-color: var(--bccButtonSecondary); /* Green background */
         color: var(--bccButtonPrimary); /* White text */
          padding: 10px 20px; /* Spacing inside the button */
         border: 5x; /* No border */
         border-radius: 5px; /* Rounded corners */
        cursor: pointer; /* Changes cursor to a hand on hover */
          font-size: 16px; /* Text size */
          font-family: 'kamiiFonts'; /* Font style */
          transition: background-color 0.3s ease; /* Smooth transition on hover */
          width: 450px;
    }
    .inputClass::placeholder{
        color: var(--bccButtonSecondary)
    }
    .inputClass2::placeholder{
        color: var(--bccButtonPrimary)
    }
    html{
        /* background-color: gray; */
        background-repeat: no-repeat;
        background-size: cover;
        /* background-position: center; */
    }
    .TopHeader{
        font-family: "kamiiFonts", sans-serif;
        color: var(--bccPrimaryHeader);
        background-color: var(--bccHeaderBackgroundColor);
        /* border: 5px solid black;
        border-radius: 5px; */;
        margin-top: 0px;
    }
       @font-face {
        font-family: kamiiFonts;
        src: url(Resources/StackSansText-VariableFont_wght.ttf);
    }
    .containerforbuttons{
        font-family: 'kamiiFonts', sans-serif;
        font-size: 45px;
        position: relative;
        top: -20px;
        color: var(--bccPrimaryHeader) !important;
        border: 0px !important;
        background-color: var(--bccHeaderBackgroundColor) !important;
        border-radius: 4px;
    }
    .classButton{
        background-color: var(--bccButtonPrimary); /* Green background */
         color: var(--bccButtonSecondary); /* White text */
          padding: 10px 20px; /* Spacing inside the button */
         border: none; /* No border */
         border-radius: 5px; /* Rounded corners */
        cursor: pointer; /* Changes cursor to a hand on hover */
          font-size: 16px; /* Text size */
          font-family: 'kamiiFonts'; /* Font style */
          transition: background-color 0.3s ease; /* Smooth transition on hover */
          margin-top: 12px;
    }
     .classButton2{
        background-color: var(--bccButtonSecondary); /* Green background */
         color: var(--bccButtonPrimary); /* White text */
          padding: 10px 20px; /* Spacing inside the button */
         border: none; /* No border */
         border-radius: 5px; /* Rounded corners */
        cursor: pointer; /* Changes cursor to a hand on hover */
          font-size: 16px; /* Text size */
          font-family: 'kamiiFonts'; /* Font style */
          transition: background-color 0.3s ease; /* Smooth transition on hover */
    }
</style>
    <body>
        <h1 class="TopHeader" style="font-size: 55px;background-color: transparent;">
            Class and Button Changing Tool
        </h1>
            <div style="height: 15px;"></div>
    <div style="padding-bottom: 50px;">
        <div class="containerforbuttons" style="color:var(--bccSecondaryHeader);font-size: 42px; border: 0px;" id="customButtons">Create Custom Buttons
    </div>
    <script>
        function customButtonCreator(){
            let validity = true
            link = buttonLink
            name = document.getElementById('input2').value
            console.log(`Link: ${link}, Name: ${name}`)
        if (name.includes('$')){
            validity = false
            alert('Names cannot include a "$".')
        }  
        if (name.includes('#')){
            validity = false
            alert('Names cannot include a "#".')
        } 
        if (name.includes('*')){
            validity = false
            alert('Names cannot include a "*".')
        }   
        if (link.includes('$')){
            validity = false
            alert('Links cannot include a "$".')
        }  
        if (link.includes('#')){
            validity = false
            alert('Links cannot include a "#"')
        }  
        if (link.includes('*')){
            validity = false
            alert('Links cannot include a "*"')
        }  
        if (validity)
        {
        //             function nextFunc(){
        //     console.log(progress)
        //     buttonLink = document.getElementById('input1').value
        //     console.log(buttonLink)
        //     document.getElementById('next').style.display = 'none'
        //     document.getElementById('input1').style.display = 'none'
        //     document.getElementById('creator').style.display = 'block'
        //     document.getElementById('input2').style.display = 'block'
        // }
        document.getElementById('next').style.display = 'block'
        document.getElementById('input1').style.display = 'block'
        document.getElementById('input1').value = ''
        document.getElementById('input2').style.display = 'none'
        document.getElementById('creator').style.display = 'none'
        document.getElementById('input2').value = ''
        alert('Reload your page for the effects to occur.')
        if (localStorage.getItem('%customButtons') == null) 
        {
            localStorage.setItem('%customButtons', '$' + name + '#' + link + '*')
        }
        else
        {
            localStorage.setItem('%customButtons', localStorage.getItem('%customButtons') + '$' + name + '#' + link +  '*')
        }
        
    }
        }
    </script>
    <input type="text" name="Custom Button Link" class="inputClass" placeholder="Link (eg: google.com)" id="input1">
    <input type="text" name="Custom Button Name" class="inputClass2" placeholder="Name (eg: Google)" id="input2">
    <div style="color:transparent">gurt yo</div>
    <button class="classButton2" onclick="nextFunc()" style="margin-top: 0px;" id="next">Next</button>
    <button class="classButton2" onclick="customButtonCreator()" style="margin-top: 0px;" id="creator">Create New Button</button>
    <button class="classButton" onclick="removeLastButton()" style="margin-left: 5px">Remove last button.</button>
    <div style="height: 10px;"></div>
    <div style="height: 25px;border-radius: 5px;background-color: var(--bccHeaderBackgroundColor);border: 5px solid var(--bccHeaderBackgroundColor);"></div>
    <h1 style="font-family: 'kamiiFonts';font-size: 55px;">Set Class Periods</h1>
    <input class="inputClass" placeholder="Class Name" id="classNamer">
    <input class="inputClass2" placeholder="Class Link" id="classLinker">
    <input class="inputClass" placeholder="Class Period #" id="classPerioder">
    <script>
        function nextFunc2(){
            console.log(classProgress)
            if(classProgress == 0){
                toPeriod = document.getElementById('classPerioder').value
                var validity2 = false
                if(isNaN(parseInt(toPeriod))){
                    alert('The class period should be a number!')
                }
                else{
                    console.log('passing')
                    // console.log(parseInt(toPeriod) === NaN)
                    validity2 = true
                }
                if(validity2){
                document.getElementById('classPerioder').style.display = 'none'
                document.getElementById('classLinker').style.display = 'block'
                classProgress = 1
            }
        }
            else if(classProgress == 1){
                toLink = document.getElementById('classLinker').value
                if(toLink.includes('http') && toLink.includes('://')){
                    if(toLink.includes('$')){
                        alert('Links cannot include a "$".')
                    }
                    else{
                    document.getElementById('nextthing').textContent = 'Create Button' 
                    document.getElementById('classLinker').style.display = 'none'
                    document.getElementById('classNamer').style.display = 'block'
                    classProgress = 2
            }
        }
            else{
                alert('This is not a valid link!')
            }
        }
            else if(classProgress == 2){
                toName = document.getElementById('classNamer').value
                if(typeof toName == "string"){
                    if(toName.includes('$')){
                        alert('Names cannot include a "$".')
                    }
                else{   
                document.getElementById('nextthing').textContent = 'Next'   
                document.getElementById('classNamer').style.display = 'none'
                document.getElementById('classPerioder').style.display = 'block'
                classProgress = 0
                localStorage.setItem('%customButtons' + toPeriod.toString(), toName + '$' + toLink)
                alert('Process complete! Please reload the main page.')
                document.getElementById('classLinker').value = ''
                document.getElementById('classPerioder').value = '' 
                document.getElementById('classNamer').value = ''
        }
    }
            else{
                alert('That is not a valid name!')
            }
        }
    }
    </script>
    <button class="classButton2" onclick="nextFunc2()" id="nextthing">Next</button>
    <script>
        function removeLastButton(){
            let majorLocalStorage = localStorage.getItem('%customButtons')
            let finalIdx = majorLocalStorage.lastIndexOf('$')
            let newOutput = majorLocalStorage.slice(0, finalIdx)
            localStorage.setItem('%customButtons', newOutput)
            alert('Reload the main page for the effects to occur.')
        }
    </script>
    <script>
// $Skyward#skyward.iscorp.com/ComalISDTXSkySTS/Session/Signin?area=Home&controller=StudentAccess&action=Home*$Drive#drive.google.com*$Humanities Myth (again)#web.kamihq.com/web/viewer.html?state=%7B"ids"%3A%5B"1I0R
    function destroySpecific(specific, unused){
        console.log('asdasd')
        fullObj = localStorage.getItem('%customButtons')
        console.log('$' + specific + '#')
        fullPack = '$' + specific + '#'
        if(fullObj.includes('$' + specific + '#')){
            // cool lets do stuff
            console.log(fullObj.charAt(fullObj.indexOf(fullPack)))

        }
        else{
            alert('Button Not Found')
        }
    }
    </script>
    <!-- <div class="containerforbuttons" style=" color: var(--bccPrimaryHeader);border: 0px;top: 6px">Advanced Button Removal</div> -->
    <!-- <input type="text" name="Custom Button Link" class="inputClass" placeholder="Name of button to remove" id="input3" style="top:15px"> -->
    <div></div>
    </div>
    </body>
  <link rel="icon" href="Resources/favicon.svg?v=222" type="image/svg+xml">
    <script>
        // document.getElementById('remover').addEventListener('click', () => destroySpecific(document.getElementById('input3').value))
        function waiter(){
            
        }
        function runOnLoad(){
            document.getElementById('input2').style.display = 'none'
            document.getElementById('creator').style.display = 'none'
            document.getElementById('classNamer').style.display = 'none'
            document.getElementById('classLinker').style.display = 'none'
            document.body.style.backgroundImage = `url(${localStorage.getItem('bccImageBackground')})`;
            document.body.style.backgroundSize = "cover";
            document.body.style.backgroundRepeat = "no-repeat"; 
            document.body.style.backgroundAttachment = "fixed"; 
            defineDefault('bccPrimaryTopHeader', '#32CD32')
            defineDefault('bccHeaderBackgroundColor', '#FAEBD7')
            defineDefault('bccPrimaryHeader', '#ffb5e0')
            defineDefault('bccSecondaryHeader', '#DC143C')
            defineDefault('bccPrimaryRect', '#e70d73')
            defineDefault('bccImageBackground', 'Resources/oneshot.gif')
            defineDefault('bccSecondaryRect', '#450423')
            defineDefault('bccButtonPrimary', '#EEE8AA')
            defineDefault('bccButtonSecondary', '#330432')
            defineDefault('bccAmPmReadoutText', '#f0a61c')
            defineDefault('bccAmPmReadoutBg', '#f5d4a8')
            defineDefault('bccDatetimeReadoutText', '#c67bca')
            defineDefault('bccDatetimeReadoutBg', '#791365')
            // setInterval(infinite, 5)
            setTimeout(waiter, 500)
        }
        window.onload = runOnLoad
    </script>
<div style="height: 25px;border-radius: 5px;background-color: var(--bccHeaderBackgroundColor);border: 5px solid var(--bccHeaderBackgroundColor);"></div>
    <h1 style="font-family: 'kamiiFonts';font-size: 55px;color: var(--bccSecondaryHeader)">Specifc Button Removal</h1>
    <input class="inputClass" placeholder="Button Name" id="specificRemover">
    <div style="height: 10px;"></div>
    <button class="classButton2" onclick="removeSpecific()">Remove Specifc Button</button>
    <script>
        function removeSpecific(){
            target = document.getElementById('specificRemover').value
            // console.log(target)
            allButtons = localStorage.getItem('%customButtons')
            buttonLocation = allButtons.indexOf('$' + target)
            // console.log('The target is at: ' + buttonLocation)
            if(buttonLocation == -1){
                //if not existing\
                alert('That button does not exist!')
            }
            else{
            index = buttonLocation
            while(allButtons.charAt(index) !== '*'){
                index += 1
                // console.log(allButtons.charAt(index))
                //increment at end of loop,, not start
            }
            buttonEnd = index + 1
            // console.log(index)
            // console.log(buttonEnd)
            // console.log('total slice:' + allButtons.slice(buttonLocation, buttonEnd))
            updatedString = allButtons.slice(0, buttonLocation)
            // console.log(updatedString)
            secondString = allButtons.slice(buttonEnd, allButtons.length)
            // console.log(secondString)
            combiner = updatedString + secondString
            // console.log(combiner)
            localStorage.setItem('%customButtons', combiner)
            alert('Reload the main page to see the effects!')
        }
        }
    </script>
</html>